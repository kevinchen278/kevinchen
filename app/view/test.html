<!DOCTYPE html>
<html ng-app="myApp">
<head>
  <title>Test</title>
  <base href="http://localhost:3000/">


<style type="text/css">
body {
  position: relative;
}

  header {
    position: fixed;
    top: 10px;
    background-color: yellow;
    opacity: 0.8;
  }

  aside {
    position: fixed;
    margin-top: 80px;
    width: 200px;
    height: 200px;
    overflow-y: auto;

  }

  div.content {
    margin-left: 200px;
    margin-top: 100px;
  }

footer {
  top: 300px;
}


  </style>



</head>
<body  ng-controller='myCtrl'>
<header>

<div>
 <a href="/view/eee">Menu1</a>
 <a href="/nav/bbb">Menu2</a>

</div>

</header>


<aside >

<div ng-include="navPath"></div>

</aside>

<p class="content" ng-include="partialPath"> </p>


<footer>
  <p>oooooooooooooooooooooooooooooooo</p>
  <p>oooooooooooooooooooooooooooooooo</p>
  <p>oooooooooooooooooooooooooooooooo</p>
  <p>oooooooooooooooooooooooooooooooo</p>
</footer>


<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.15/angular.min.js"></script>
<script>

var myTemplate = angular.module("myTemplate",[])

    .run(function($templateCache){
      $templateCache.put('/view/aaa.html',
        '<div><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p><p>eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee</p></div>');

      $templateCache.put('/view/bbb.html','<div><p>bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe</p><p>bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe</p><p>bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe</p><p>bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe</p><p>bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe</p><p>bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe</p><p>bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe</p><p>bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe</p><p>bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe</p><p>bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe</p><p>bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe</p><p>bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe</p><p>bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbe</p></div>');

      $templateCache.put('/nav/aa.html','<div>nav.aa</div>'); 

      $templateCache.put('/nav/bb.html','<div>nav.bb</div>'); 

      $templateCache.put('/nav/cc.html','<div>nav.cc</div>');

      $templateCache.put('/nav/dd.html','<div>nav.dd</div>');
     
       $templateCache.put('/view','<p><a href="/view/aaa">aaaaaaaaaaaaaaaa</a></p>'+
        '<p><a href="/view/bbb">bbbbbbbbbbbbbb</a></p>');

      $templateCache.put('/nav','<p><a href="/nav/bb">bbbbbb</a></p>'+
        '<p><a href="/view/cc">ccccc</a></p>');

      });

var myApp = angular.module('myApp',['myTemplate']);


myApp.config(['$locationProvider',function($locationProvider) {
  $locationProvider.html5Mode(true).hashPrefix('!');

}]);


myApp.controller('myCtrl', ['$scope','$location', function($scope,$location){

      $scope.partialPath = 'view/testA.html';
      $scope.path = $location.path();
  
  $scope.$on('$includeContentLoaded', function() {
    var pagePath = $scope.currentPage ? $scope.currentPage.path : $location.path();
  });



  $scope.$watch(function docsPathWatch() {return $location.path(); }, function docsPathWatchAction(path) {

      //$scope.navPath = path.replace(/^\/?(.+?)(\/index)?\/?$/, '$1');
      $scope.navPath = path.replace(/(^\/?.+?)\/(.+?)\/?$/, '$1')



      $scope.partialPath = path + '.html';

       window.alert(path);

      // console.log(path);


      // $scope.path = $scope.partialPath;


      // $location.replace();


     
    // currentPage = $scope.currentPage = NG_PAGES[path];

    // if ( currentPage ) {
    //   $scope.partialPath = 'partials/' + path + '.html';
    //   $scope.currentArea = NG_NAVIGATION[currentPage.area];
    //   var pathParts = currentPage.path.split('/');
    //   var breadcrumb = $scope.breadcrumb = [];
    //   var breadcrumbPath = '';
    //   angular.forEach(pathParts, function(part) {
    //     breadcrumbPath += part;
    //     breadcrumb.push({ name: (NG_PAGES[breadcrumbPath]&&NG_PAGES[breadcrumbPath].name) || part, url: breadcrumbPath });
    //     breadcrumbPath += '/';
    //   });
    // } else {
    //   $scope.currentArea = NG_NAVIGATION['api'];
    //   $scope.breadcrumb = [];
    //   $scope.partialPath = 'Error404.html';
    // }
  });

}]);


  


</script>
</body>
</html>